<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Multi-Platform Chat Bot System Documentation"><meta name=author content="WaddleBot Team"><link href=https://docs.waddlebot.io/logging-and-monitoring/ rel=canonical><link href=../inventory-interaction-module/ rel=prev><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.18"><title>Monitoring - WaddleBot Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#waddlebot-logging-and-monitoring-documentation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="WaddleBot Documentation" class="md-header__button md-logo" aria-label="WaddleBot Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> WaddleBot Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Monitoring </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/WaddleBot/WaddleBot title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> WaddleBot/WaddleBot </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../architecture/ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../core-modules/ class=md-tabs__link> Core Modules </a> </li> <li class=md-tabs__item> <a href=../interaction-modules/ class=md-tabs__link> Interaction Modules </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Administration </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="WaddleBot Documentation" class="md-nav__button md-logo" aria-label="WaddleBot Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> WaddleBot Documentation </label> <div class=md-nav__source> <a href=https://github.com/WaddleBot/WaddleBot title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> WaddleBot/WaddleBot </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../getting-started/ class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../USAGE/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../deployment-guide/ class=md-nav__link> <span class=md-ellipsis> Deployment Guide </span> </a> </li> <li class=md-nav__item> <a href=../CONTRIBUTION/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../architecture/ class="md-nav__link "> <span class=md-ellipsis> Architecture </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../core-modules/ class="md-nav__link "> <span class=md-ellipsis> Core Modules </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Core Modules </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../interaction-modules/ class="md-nav__link "> <span class=md-ellipsis> Interaction Modules </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Interaction Modules </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../inventory-interaction-module/ class=md-nav__link> <span class=md-ellipsis> Inventory Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Administration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Administration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Monitoring </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Monitoring </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#logging-requirements class=md-nav__link> <span class=md-ellipsis> Logging Requirements </span> </a> <nav class=md-nav aria-label="Logging Requirements"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#universal-implementation class=md-nav__link> <span class=md-ellipsis> Universal Implementation </span> </a> </li> <li class=md-nav__item> <a href=#required-logging-outputs class=md-nav__link> <span class=md-ellipsis> Required Logging Outputs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#log-categories class=md-nav__link> <span class=md-ellipsis> Log Categories </span> </a> <nav class=md-nav aria-label="Log Categories"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#auth-authentication class=md-nav__link> <span class=md-ellipsis> AUTH (Authentication) </span> </a> </li> <li class=md-nav__item> <a href=#authz-authorization class=md-nav__link> <span class=md-ellipsis> AUTHZ (Authorization) </span> </a> </li> <li class=md-nav__item> <a href=#audit-user-actions class=md-nav__link> <span class=md-ellipsis> AUDIT (User Actions) </span> </a> </li> <li class=md-nav__item> <a href=#error-error-conditions class=md-nav__link> <span class=md-ellipsis> ERROR (Error Conditions) </span> </a> </li> <li class=md-nav__item> <a href=#system-system-events class=md-nav__link> <span class=md-ellipsis> SYSTEM (System Events) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#log-structure class=md-nav__link> <span class=md-ellipsis> Log Structure </span> </a> <nav class=md-nav aria-label="Log Structure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#standard-format class=md-nav__link> <span class=md-ellipsis> Standard Format </span> </a> </li> <li class=md-nav__item> <a href=#field-specifications class=md-nav__link> <span class=md-ellipsis> Field Specifications </span> </a> </li> <li class=md-nav__item> <a href=#example-log-entries class=md-nav__link> <span class=md-ellipsis> Example Log Entries </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#environment-variables class=md-nav__link> <span class=md-ellipsis> Environment Variables </span> </a> </li> <li class=md-nav__item> <a href=#log-rotation-configuration class=md-nav__link> <span class=md-ellipsis> Log Rotation Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-guide class=md-nav__link> <span class=md-ellipsis> Implementation Guide </span> </a> <nav class=md-nav aria-label="Implementation Guide"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#python-implementation class=md-nav__link> <span class=md-ellipsis> Python Implementation </span> </a> </li> <li class=md-nav__item> <a href=#decorator-patterns class=md-nav__link> <span class=md-ellipsis> Decorator Patterns </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#log-file-organization class=md-nav__link> <span class=md-ellipsis> Log File Organization </span> </a> <nav class=md-nav aria-label="Log File Organization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#directory-structure class=md-nav__link> <span class=md-ellipsis> Directory Structure </span> </a> </li> <li class=md-nav__item> <a href=#file-naming-convention class=md-nav__link> <span class=md-ellipsis> File Naming Convention </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring-and-alerting class=md-nav__link> <span class=md-ellipsis> Monitoring and Alerting </span> </a> <nav class=md-nav aria-label="Monitoring and Alerting"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log-aggregation class=md-nav__link> <span class=md-ellipsis> Log Aggregation </span> </a> <nav class=md-nav aria-label="Log Aggregation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#elk-stack-integration class=md-nav__link> <span class=md-ellipsis> ELK Stack Integration </span> </a> </li> <li class=md-nav__item> <a href=#fluentd-configuration class=md-nav__link> <span class=md-ellipsis> Fluentd Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#alerting-rules class=md-nav__link> <span class=md-ellipsis> Alerting Rules </span> </a> <nav class=md-nav aria-label="Alerting Rules"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#critical-events class=md-nav__link> <span class=md-ellipsis> Critical Events </span> </a> </li> <li class=md-nav__item> <a href=#alert-configuration-prometheusalertmanager class=md-nav__link> <span class=md-ellipsis> Alert Configuration (Prometheus/AlertManager) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compliance-and-retention class=md-nav__link> <span class=md-ellipsis> Compliance and Retention </span> </a> <nav class=md-nav aria-label="Compliance and Retention"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-retention-policies class=md-nav__link> <span class=md-ellipsis> Data Retention Policies </span> </a> </li> <li class=md-nav__item> <a href=#compliance-standards class=md-nav__link> <span class=md-ellipsis> Compliance Standards </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-considerations class=md-nav__link> <span class=md-ellipsis> Performance Considerations </span> </a> <nav class=md-nav aria-label="Performance Considerations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#logging-overhead class=md-nav__link> <span class=md-ellipsis> Logging Overhead </span> </a> </li> <li class=md-nav__item> <a href=#storage-optimization class=md-nav__link> <span class=md-ellipsis> Storage Optimization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#security-considerations class=md-nav__link> <span class=md-ellipsis> Security Considerations </span> </a> <nav class=md-nav aria-label="Security Considerations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log-security class=md-nav__link> <span class=md-ellipsis> Log Security </span> </a> </li> <li class=md-nav__item> <a href=#sensitive-data-handling class=md-nav__link> <span class=md-ellipsis> Sensitive Data Handling </span> </a> <nav class=md-nav aria-label="Sensitive Data Handling"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-to-redact class=md-nav__link> <span class=md-ellipsis> Data to Redact </span> </a> </li> <li class=md-nav__item> <a href=#redaction-examples class=md-nav__link> <span class=md-ellipsis> Redaction Examples </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#common-issues class=md-nav__link> <span class=md-ellipsis> Common Issues </span> </a> </li> <li class=md-nav__item> <a href=#log-analysis-tools class=md-nav__link> <span class=md-ellipsis> Log Analysis Tools </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> <nav class=md-nav aria-label="Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#development class=md-nav__link> <span class=md-ellipsis> Development </span> </a> </li> <li class=md-nav__item> <a href=#operations class=md-nav__link> <span class=md-ellipsis> Operations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-checklist class=md-nav__link> <span class=md-ellipsis> Implementation Checklist </span> </a> <nav class=md-nav aria-label="Implementation Checklist"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#module-implementation class=md-nav__link> <span class=md-ellipsis> Module Implementation </span> </a> </li> <li class=md-nav__item> <a href=#deployment class=md-nav__link> <span class=md-ellipsis> Deployment </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#logging-requirements class=md-nav__link> <span class=md-ellipsis> Logging Requirements </span> </a> <nav class=md-nav aria-label="Logging Requirements"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#universal-implementation class=md-nav__link> <span class=md-ellipsis> Universal Implementation </span> </a> </li> <li class=md-nav__item> <a href=#required-logging-outputs class=md-nav__link> <span class=md-ellipsis> Required Logging Outputs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#log-categories class=md-nav__link> <span class=md-ellipsis> Log Categories </span> </a> <nav class=md-nav aria-label="Log Categories"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#auth-authentication class=md-nav__link> <span class=md-ellipsis> AUTH (Authentication) </span> </a> </li> <li class=md-nav__item> <a href=#authz-authorization class=md-nav__link> <span class=md-ellipsis> AUTHZ (Authorization) </span> </a> </li> <li class=md-nav__item> <a href=#audit-user-actions class=md-nav__link> <span class=md-ellipsis> AUDIT (User Actions) </span> </a> </li> <li class=md-nav__item> <a href=#error-error-conditions class=md-nav__link> <span class=md-ellipsis> ERROR (Error Conditions) </span> </a> </li> <li class=md-nav__item> <a href=#system-system-events class=md-nav__link> <span class=md-ellipsis> SYSTEM (System Events) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#log-structure class=md-nav__link> <span class=md-ellipsis> Log Structure </span> </a> <nav class=md-nav aria-label="Log Structure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#standard-format class=md-nav__link> <span class=md-ellipsis> Standard Format </span> </a> </li> <li class=md-nav__item> <a href=#field-specifications class=md-nav__link> <span class=md-ellipsis> Field Specifications </span> </a> </li> <li class=md-nav__item> <a href=#example-log-entries class=md-nav__link> <span class=md-ellipsis> Example Log Entries </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#environment-variables class=md-nav__link> <span class=md-ellipsis> Environment Variables </span> </a> </li> <li class=md-nav__item> <a href=#log-rotation-configuration class=md-nav__link> <span class=md-ellipsis> Log Rotation Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-guide class=md-nav__link> <span class=md-ellipsis> Implementation Guide </span> </a> <nav class=md-nav aria-label="Implementation Guide"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#python-implementation class=md-nav__link> <span class=md-ellipsis> Python Implementation </span> </a> </li> <li class=md-nav__item> <a href=#decorator-patterns class=md-nav__link> <span class=md-ellipsis> Decorator Patterns </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#log-file-organization class=md-nav__link> <span class=md-ellipsis> Log File Organization </span> </a> <nav class=md-nav aria-label="Log File Organization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#directory-structure class=md-nav__link> <span class=md-ellipsis> Directory Structure </span> </a> </li> <li class=md-nav__item> <a href=#file-naming-convention class=md-nav__link> <span class=md-ellipsis> File Naming Convention </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring-and-alerting class=md-nav__link> <span class=md-ellipsis> Monitoring and Alerting </span> </a> <nav class=md-nav aria-label="Monitoring and Alerting"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log-aggregation class=md-nav__link> <span class=md-ellipsis> Log Aggregation </span> </a> <nav class=md-nav aria-label="Log Aggregation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#elk-stack-integration class=md-nav__link> <span class=md-ellipsis> ELK Stack Integration </span> </a> </li> <li class=md-nav__item> <a href=#fluentd-configuration class=md-nav__link> <span class=md-ellipsis> Fluentd Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#alerting-rules class=md-nav__link> <span class=md-ellipsis> Alerting Rules </span> </a> <nav class=md-nav aria-label="Alerting Rules"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#critical-events class=md-nav__link> <span class=md-ellipsis> Critical Events </span> </a> </li> <li class=md-nav__item> <a href=#alert-configuration-prometheusalertmanager class=md-nav__link> <span class=md-ellipsis> Alert Configuration (Prometheus/AlertManager) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compliance-and-retention class=md-nav__link> <span class=md-ellipsis> Compliance and Retention </span> </a> <nav class=md-nav aria-label="Compliance and Retention"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-retention-policies class=md-nav__link> <span class=md-ellipsis> Data Retention Policies </span> </a> </li> <li class=md-nav__item> <a href=#compliance-standards class=md-nav__link> <span class=md-ellipsis> Compliance Standards </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-considerations class=md-nav__link> <span class=md-ellipsis> Performance Considerations </span> </a> <nav class=md-nav aria-label="Performance Considerations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#logging-overhead class=md-nav__link> <span class=md-ellipsis> Logging Overhead </span> </a> </li> <li class=md-nav__item> <a href=#storage-optimization class=md-nav__link> <span class=md-ellipsis> Storage Optimization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#security-considerations class=md-nav__link> <span class=md-ellipsis> Security Considerations </span> </a> <nav class=md-nav aria-label="Security Considerations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log-security class=md-nav__link> <span class=md-ellipsis> Log Security </span> </a> </li> <li class=md-nav__item> <a href=#sensitive-data-handling class=md-nav__link> <span class=md-ellipsis> Sensitive Data Handling </span> </a> <nav class=md-nav aria-label="Sensitive Data Handling"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-to-redact class=md-nav__link> <span class=md-ellipsis> Data to Redact </span> </a> </li> <li class=md-nav__item> <a href=#redaction-examples class=md-nav__link> <span class=md-ellipsis> Redaction Examples </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#common-issues class=md-nav__link> <span class=md-ellipsis> Common Issues </span> </a> </li> <li class=md-nav__item> <a href=#log-analysis-tools class=md-nav__link> <span class=md-ellipsis> Log Analysis Tools </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> <nav class=md-nav aria-label="Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#development class=md-nav__link> <span class=md-ellipsis> Development </span> </a> </li> <li class=md-nav__item> <a href=#operations class=md-nav__link> <span class=md-ellipsis> Operations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-checklist class=md-nav__link> <span class=md-ellipsis> Implementation Checklist </span> </a> <nav class=md-nav aria-label="Implementation Checklist"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#module-implementation class=md-nav__link> <span class=md-ellipsis> Module Implementation </span> </a> </li> <li class=md-nav__item> <a href=#deployment class=md-nav__link> <span class=md-ellipsis> Deployment </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=waddlebot-logging-and-monitoring-documentation>WaddleBot Logging and Monitoring Documentation<a class=headerlink href=#waddlebot-logging-and-monitoring-documentation title="Permanent link">&para;</a></h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>WaddleBot implements comprehensive Authentication, Authorization, and Auditing (AAA) logging across all container modules to ensure security, compliance, and operational visibility. This document outlines the logging standards, implementation requirements, and monitoring strategies.</p> <h2 id=logging-requirements>Logging Requirements<a class=headerlink href=#logging-requirements title="Permanent link">&para;</a></h2> <h3 id=universal-implementation>Universal Implementation<a class=headerlink href=#universal-implementation title="Permanent link">&para;</a></h3> <p><strong>ALL WaddleBot container modules MUST implement comprehensive AAA logging.</strong></p> <h3 id=required-logging-outputs>Required Logging Outputs<a class=headerlink href=#required-logging-outputs title="Permanent link">&para;</a></h3> <ol> <li><strong>Console Logging</strong></li> <li>All logs output to stdout/stderr for container orchestration</li> <li>Compatible with Docker, Kubernetes, and other container platforms</li> <li> <p>Structured format for log aggregation tools</p> </li> <li> <p><strong>File Logging</strong></p> </li> <li>Structured logs to <code>/var/log/waddlebotlog/</code> directory</li> <li>Automatic rotation (10MB files, 5 backups)</li> <li> <p>Separate log files by category (auth, authz, audit, error, system)</p> </li> <li> <p><strong>Syslog (Optional)</strong></p> </li> <li>Configurable syslog support for centralized logging</li> <li>RFC 3164 compliant syslog messages</li> <li>Configurable facility and severity levels</li> </ol> <h2 id=log-categories>Log Categories<a class=headerlink href=#log-categories title="Permanent link">&para;</a></h2> <h3 id=auth-authentication>AUTH (Authentication)<a class=headerlink href=#auth-authentication title="Permanent link">&para;</a></h3> <p>Events related to user authentication and session management.</p> <p><strong>Examples:</strong> - User login attempts (success/failure) - Token generation and refresh - Authentication method changes - Session creation and expiration - OAuth flows and callback processing</p> <h3 id=authz-authorization>AUTHZ (Authorization)<a class=headerlink href=#authz-authorization title="Permanent link">&para;</a></h3> <p>Events related to permission checks and access control.</p> <p><strong>Examples:</strong> - Permission checks (granted/denied) - Role assignments and modifications - ACL rule evaluations - Resource access attempts - Administrative privilege usage</p> <h3 id=audit-user-actions>AUDIT (User Actions)<a class=headerlink href=#audit-user-actions title="Permanent link">&para;</a></h3> <p>Events related to user actions and system changes.</p> <p><strong>Examples:</strong> - CRUD operations (create, read, update, delete) - Configuration changes - Module installations/removals - Data exports and imports - Administrative actions</p> <h3 id=error-error-conditions>ERROR (Error Conditions)<a class=headerlink href=#error-error-conditions title="Permanent link">&para;</a></h3> <p>Events related to system errors and exceptions.</p> <p><strong>Examples:</strong> - Application exceptions - Database connection failures - External API errors - Resource exhaustion - Validation failures</p> <h3 id=system-system-events>SYSTEM (System Events)<a class=headerlink href=#system-system-events title="Permanent link">&para;</a></h3> <p>Events related to system operations and health.</p> <p><strong>Examples:</strong> - Service startup and shutdown - Health check results - Performance metrics - Resource utilization - Maintenance operations</p> <h2 id=log-structure>Log Structure<a class=headerlink href=#log-structure title="Permanent link">&para;</a></h2> <h3 id=standard-format>Standard Format<a class=headerlink href=#standard-format title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>[timestamp] LEVEL module:version EVENT_TYPE community=X user=Y action=Z result=STATUS [additional_fields]
</code></pre></div> <h3 id=field-specifications>Field Specifications<a class=headerlink href=#field-specifications title="Permanent link">&para;</a></h3> <ul> <li><strong>timestamp</strong>: ISO 8601 format with timezone (e.g., <code>2024-01-15T14:30:00.123Z</code>)</li> <li><strong>LEVEL</strong>: Log level (DEBUG, INFO, WARNING, ERROR)</li> <li><strong>module</strong>: Module name (e.g., <code>inventory_interaction_module</code>)</li> <li><strong>version</strong>: Module version (e.g., <code>1.0.0</code>)</li> <li><strong>EVENT_TYPE</strong>: Log category (AUTH, AUTHZ, AUDIT, ERROR, SYSTEM)</li> <li><strong>community</strong>: Community identifier (when applicable)</li> <li><strong>user</strong>: User identifier (when applicable)</li> <li><strong>action</strong>: Action being performed</li> <li><strong>result</strong>: Operation result (SUCCESS, FAILURE, DENIED, ERROR)</li> <li><strong>additional_fields</strong>: Context-specific fields</li> </ul> <h3 id=example-log-entries>Example Log Entries<a class=headerlink href=#example-log-entries title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>[2024-01-15T14:30:00.123Z] INFO inventory_interaction_module:1.0.0 AUTH community=gaming_server user=user123 action=token_refresh result=SUCCESS ip=192.168.1.100 session=sess_abc123
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>[2024-01-15T14:30:05.456Z] INFO inventory_interaction_module:1.0.0 AUTHZ community=gaming_server user=user123 action=add_item resource=inventory result=GRANTED permissions=inventory_admin
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>[2024-01-15T14:30:10.789Z] INFO inventory_interaction_module:1.0.0 AUDIT community=gaming_server user=user123 action=add_item resource=inventory result=SUCCESS duration=150ms item_name=laptop description=&quot;Gaming laptop&quot;
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>[2024-01-15T14:30:15.012Z] ERROR inventory_interaction_module:1.0.0 ERROR community=gaming_server user=user456 action=checkout_item error=&quot;Item not found&quot; item_name=nonexistent
</code></pre></div> <h2 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">&para;</a></h2> <h3 id=environment-variables>Environment Variables<a class=headerlink href=#environment-variables title="Permanent link">&para;</a></h3> <p>All modules must support these logging configuration variables:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># Log Level Configuration</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=nv>LOG_LEVEL</span><span class=o>=</span>INFO<span class=w>                    </span><span class=c1># DEBUG, INFO, WARNING, ERROR</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=c1># File Logging Configuration</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=nv>LOG_DIR</span><span class=o>=</span>/var/log/waddlebotlog<span class=w>    </span><span class=c1># Log directory path</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c1># Syslog Configuration (Optional)</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=nv>ENABLE_SYSLOG</span><span class=o>=</span><span class=nb>false</span><span class=w>              </span><span class=c1># Enable syslog output</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=nv>SYSLOG_HOST</span><span class=o>=</span>localhost<span class=w>            </span><span class=c1># Syslog server host</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=nv>SYSLOG_PORT</span><span class=o>=</span><span class=m>514</span><span class=w>                  </span><span class=c1># Syslog server port (514 for UDP, 6514 for TCP)</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=nv>SYSLOG_FACILITY</span><span class=o>=</span>LOCAL0<span class=w>           </span><span class=c1># Syslog facility (LOCAL0-LOCAL7)</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=nv>SYSLOG_PROTOCOL</span><span class=o>=</span>UDP<span class=w>              </span><span class=c1># UDP or TCP</span>
</code></pre></div> <h3 id=log-rotation-configuration>Log Rotation Configuration<a class=headerlink href=#log-rotation-configuration title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1># Rotation Settings</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=nv>LOG_MAX_SIZE</span><span class=o>=</span><span class=m>10485760</span><span class=w>            </span><span class=c1># 10MB in bytes</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=nv>LOG_BACKUP_COUNT</span><span class=o>=</span><span class=m>5</span><span class=w>               </span><span class=c1># Number of backup files</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=nv>LOG_ROTATION_WHEN</span><span class=o>=</span>midnight<span class=w>       </span><span class=c1># Daily rotation</span>
</code></pre></div> <h2 id=implementation-guide>Implementation Guide<a class=headerlink href=#implementation-guide title="Permanent link">&para;</a></h2> <h3 id=python-implementation>Python Implementation<a class=headerlink href=#python-implementation title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=kn>import</span><span class=w> </span><span class=nn>logging.handlers</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>timezone</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Any</span><span class=p>,</span> <span class=n>Optional</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=kn>from</span><span class=w> </span><span class=nn>dataclasses</span><span class=w> </span><span class=kn>import</span> <span class=n>dataclass</span><span class=p>,</span> <span class=n>asdict</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=nd>@dataclass</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=k>class</span><span class=w> </span><span class=nc>LogEvent</span><span class=p>:</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Structured log event for WaddleBot&quot;&quot;&quot;</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>    <span class=n>timestamp</span><span class=p>:</span> <span class=nb>str</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>    <span class=n>level</span><span class=p>:</span> <span class=nb>str</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>    <span class=n>module</span><span class=p>:</span> <span class=nb>str</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>    <span class=n>version</span><span class=p>:</span> <span class=nb>str</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>    <span class=n>event_type</span><span class=p>:</span> <span class=nb>str</span>  <span class=c1># AUTH, AUTHZ, AUDIT, SYSTEM, ERROR</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>    <span class=n>community_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>    <span class=n>user_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>    <span class=n>session_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>    <span class=n>action</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>    <span class=n>resource</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>    <span class=n>result</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># SUCCESS, FAILURE, DENIED</span>
<a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>    <span class=n>details</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>    <span class=n>ip_address</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>    <span class=n>user_agent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a>    <span class=n>duration_ms</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a>    <span class=n>error_message</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a>
<a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a><span class=k>class</span><span class=w> </span><span class=nc>WaddleBotLogger</span><span class=p>:</span>
<a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Comprehensive logging system for WaddleBot modules&quot;&quot;&quot;</span>
<a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a>
<a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>module_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>module_version</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-4-31 name=__codelineno-4-31 href=#__codelineno-4-31></a>        <span class=bp>self</span><span class=o>.</span><span class=n>module_name</span> <span class=o>=</span> <span class=n>module_name</span>
<a id=__codelineno-4-32 name=__codelineno-4-32 href=#__codelineno-4-32></a>        <span class=bp>self</span><span class=o>.</span><span class=n>module_version</span> <span class=o>=</span> <span class=n>module_version</span>
<a id=__codelineno-4-33 name=__codelineno-4-33 href=#__codelineno-4-33></a>        <span class=bp>self</span><span class=o>.</span><span class=n>setup_logging</span><span class=p>()</span>
<a id=__codelineno-4-34 name=__codelineno-4-34 href=#__codelineno-4-34></a>
<a id=__codelineno-4-35 name=__codelineno-4-35 href=#__codelineno-4-35></a>    <span class=k>def</span><span class=w> </span><span class=nf>setup_logging</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a id=__codelineno-4-36 name=__codelineno-4-36 href=#__codelineno-4-36></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Setup logging configuration&quot;&quot;&quot;</span>
<a id=__codelineno-4-37 name=__codelineno-4-37 href=#__codelineno-4-37></a>        <span class=c1># Configure loggers, handlers, and formatters</span>
<a id=__codelineno-4-38 name=__codelineno-4-38 href=#__codelineno-4-38></a>        <span class=c1># Implementation details...</span>
<a id=__codelineno-4-39 name=__codelineno-4-39 href=#__codelineno-4-39></a>
<a id=__codelineno-4-40 name=__codelineno-4-40 href=#__codelineno-4-40></a>    <span class=k>def</span><span class=w> </span><span class=nf>log_authentication</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>action</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>result</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a id=__codelineno-4-41 name=__codelineno-4-41 href=#__codelineno-4-41></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Log authentication events&quot;&quot;&quot;</span>
<a id=__codelineno-4-42 name=__codelineno-4-42 href=#__codelineno-4-42></a>        <span class=c1># Implementation details...</span>
<a id=__codelineno-4-43 name=__codelineno-4-43 href=#__codelineno-4-43></a>
<a id=__codelineno-4-44 name=__codelineno-4-44 href=#__codelineno-4-44></a>    <span class=k>def</span><span class=w> </span><span class=nf>log_authorization</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>community_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>action</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> 
<a id=__codelineno-4-45 name=__codelineno-4-45 href=#__codelineno-4-45></a>                         <span class=n>resource</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>result</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a id=__codelineno-4-46 name=__codelineno-4-46 href=#__codelineno-4-46></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Log authorization events&quot;&quot;&quot;</span>
<a id=__codelineno-4-47 name=__codelineno-4-47 href=#__codelineno-4-47></a>        <span class=c1># Implementation details...</span>
<a id=__codelineno-4-48 name=__codelineno-4-48 href=#__codelineno-4-48></a>
<a id=__codelineno-4-49 name=__codelineno-4-49 href=#__codelineno-4-49></a>    <span class=k>def</span><span class=w> </span><span class=nf>log_audit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>community_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>action</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> 
<a id=__codelineno-4-50 name=__codelineno-4-50 href=#__codelineno-4-50></a>                  <span class=n>resource</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>result</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a id=__codelineno-4-51 name=__codelineno-4-51 href=#__codelineno-4-51></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Log audit events&quot;&quot;&quot;</span>
<a id=__codelineno-4-52 name=__codelineno-4-52 href=#__codelineno-4-52></a>        <span class=c1># Implementation details...</span>
</code></pre></div> <h3 id=decorator-patterns>Decorator Patterns<a class=headerlink href=#decorator-patterns title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>def</span><span class=w> </span><span class=nf>audit_log</span><span class=p>(</span><span class=n>action</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>resource_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;default&quot;</span><span class=p>):</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator for automatic audit logging&quot;&quot;&quot;</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>            <span class=n>start_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>            <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>                <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>                <span class=n>duration</span> <span class=o>=</span> <span class=p>(</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span><span class=o>.</span><span class=n>total_seconds</span><span class=p>()</span> <span class=o>*</span> <span class=mi>1000</span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>                <span class=c1># Log successful operation</span>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>                <span class=k>return</span> <span class=n>result</span>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>                <span class=n>duration</span> <span class=o>=</span> <span class=p>(</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span><span class=o>.</span><span class=n>total_seconds</span><span class=p>()</span> <span class=o>*</span> <span class=mi>1000</span>
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>                <span class=c1># Log failed operation</span>
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>                <span class=k>raise</span>
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>        <span class=k>return</span> <span class=n>wrapper</span>
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>    <span class=k>return</span> <span class=n>decorator</span>
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>
<a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a><span class=k>def</span><span class=w> </span><span class=nf>require_permission</span><span class=p>(</span><span class=n>required_permission</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator for authorization checking with logging&quot;&quot;&quot;</span>
<a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a>    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a>        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a>            <span class=c1># Check permissions and log result</span>
<a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a>            <span class=c1># Implementation details...</span>
<a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a>        <span class=k>return</span> <span class=n>wrapper</span>
<a id=__codelineno-5-25 name=__codelineno-5-25 href=#__codelineno-5-25></a>    <span class=k>return</span> <span class=n>decorator</span>
</code></pre></div> <h2 id=log-file-organization>Log File Organization<a class=headerlink href=#log-file-organization title="Permanent link">&para;</a></h2> <h3 id=directory-structure>Directory Structure<a class=headerlink href=#directory-structure title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>/var/log/waddlebotlog/
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>├── {module_name}/
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>│   ├── {module_name}.log              # Main application log
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>│   ├── {module_name}_auth.log         # Authentication events
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>│   ├── {module_name}_authz.log        # Authorization events
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>│   ├── {module_name}_audit.log        # Audit trail
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>│   ├── {module_name}_error.log        # Error events
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>│   └── {module_name}_system.log       # System events
</code></pre></div> <h3 id=file-naming-convention>File Naming Convention<a class=headerlink href=#file-naming-convention title="Permanent link">&para;</a></h3> <ul> <li>Main log: <code>{module_name}.log</code></li> <li>Category logs: <code>{module_name}_{category}.log</code></li> <li>Rotated files: <code>{module_name}.log.1</code>, <code>{module_name}.log.2</code>, etc.</li> </ul> <h2 id=monitoring-and-alerting>Monitoring and Alerting<a class=headerlink href=#monitoring-and-alerting title="Permanent link">&para;</a></h2> <h3 id=log-aggregation>Log Aggregation<a class=headerlink href=#log-aggregation title="Permanent link">&para;</a></h3> <h4 id=elk-stack-integration>ELK Stack Integration<a class=headerlink href=#elk-stack-integration title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># Filebeat configuration for WaddleBot logs</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=nt>filebeat.inputs</span><span class=p>:</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">log</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>  </span><span class=nt>paths</span><span class=p>:</span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/var/log/waddlebotlog/*/*.log</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>  </span><span class=nt>fields</span><span class=p>:</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>    </span><span class=nt>service</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">waddlebot</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>  </span><span class=nt>fields_under_root</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>  </span><span class=nt>multiline.pattern</span><span class=p>:</span><span class=w> </span><span class=s>&#39;^\[&#39;</span>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>  </span><span class=nt>multiline.negate</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>  </span><span class=nt>multiline.match</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">after</span>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=nt>processors</span><span class=p>:</span>
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>add_docker_metadata</span><span class=p>:</span>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a><span class=w>    </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=s>&quot;unix:///var/run/docker.sock&quot;</span>
</code></pre></div> <h4 id=fluentd-configuration>Fluentd Configuration<a class=headerlink href=#fluentd-configuration title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=nt>&lt;source&gt;</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>  </span>@type<span class=w> </span>tail
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>  </span>path<span class=w> </span>/var/log/waddlebotlog/*/*.log
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>  </span>pos_file<span class=w> </span>/var/log/td-agent/waddlebot.log.pos
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>  </span>tag<span class=w> </span>waddlebot.*
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>  </span>format<span class=w> </span>json
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>  </span>time_format<span class=w> </span>%Y-%m-%dT%H:%M:%S.%L%z
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=nt>&lt;/source&gt;</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=nt>&lt;match</span><span class=w> </span><span class=err>waddlebot.**</span><span class=nt>&gt;</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>  </span>@type<span class=w> </span>elasticsearch
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>  </span>host<span class=w> </span>elasticsearch
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=w>  </span>port<span class=w> </span>9200
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>  </span>index_name<span class=w> </span>waddlebot-logs
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=nt>&lt;/match&gt;</span>
</code></pre></div> <h3 id=alerting-rules>Alerting Rules<a class=headerlink href=#alerting-rules title="Permanent link">&para;</a></h3> <h4 id=critical-events>Critical Events<a class=headerlink href=#critical-events title="Permanent link">&para;</a></h4> <ol> <li><strong>Authentication Failures</strong></li> <li>More than 5 failed login attempts per user in 1 minute</li> <li>Invalid token usage patterns</li> <li> <p>Suspicious authentication patterns</p> </li> <li> <p><strong>Authorization Violations</strong></p> </li> <li>Repeated permission denied events</li> <li>Privilege escalation attempts</li> <li> <p>Unusual access patterns</p> </li> <li> <p><strong>System Errors</strong></p> </li> <li>Database connection failures</li> <li>Service unavailability</li> <li>Performance degradation</li> </ol> <h4 id=alert-configuration-prometheusalertmanager>Alert Configuration (Prometheus/AlertManager)<a class=headerlink href=#alert-configuration-prometheusalertmanager title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=nt>groups</span><span class=p>:</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">waddlebot-security</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>  </span><span class=nt>rules</span><span class=p>:</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">HighAuthenticationFailures</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rate(waddlebot_auth_failures_total[1m]) &gt; 5</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1m</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">warning</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">High authentication failure rate</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>$labels.module</span><span class=nv> </span><span class=s>}}</span><span class=nv> </span><span class=s>has</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}</span><span class=nv> </span><span class=s>auth</span><span class=nv> </span><span class=s>failures/sec&quot;</span>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DatabaseConnectionFailure</span>
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">waddlebot_db_connection_failures_total &gt; 0</span>
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0m</span>
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">critical</span>
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a><span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Database connection failure</span>
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>$labels.module</span><span class=nv> </span><span class=s>}}</span><span class=nv> </span><span class=s>cannot</span><span class=nv> </span><span class=s>connect</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>database&quot;</span>
</code></pre></div> <h2 id=compliance-and-retention>Compliance and Retention<a class=headerlink href=#compliance-and-retention title="Permanent link">&para;</a></h2> <h3 id=data-retention-policies>Data Retention Policies<a class=headerlink href=#data-retention-policies title="Permanent link">&para;</a></h3> <ol> <li><strong>Security Logs (AUTH/AUTHZ)</strong></li> <li>Retention: 2 years minimum</li> <li>Immutable storage recommended</li> <li> <p>Regular backup and archival</p> </li> <li> <p><strong>Audit Logs</strong></p> </li> <li>Retention: 7 years (compliance requirement)</li> <li>Encrypted storage required</li> <li> <p>Access logging for log access</p> </li> <li> <p><strong>System Logs</strong></p> </li> <li>Retention: 90 days</li> <li>Rolling deletion acceptable</li> <li> <p>Performance optimization focus</p> </li> <li> <p><strong>Error Logs</strong></p> </li> <li>Retention: 1 year</li> <li>Compressed storage acceptable</li> <li>Debugging and troubleshooting focus</li> </ol> <h3 id=compliance-standards>Compliance Standards<a class=headerlink href=#compliance-standards title="Permanent link">&para;</a></h3> <ul> <li><strong>SOC 2 Type II</strong>: Comprehensive audit trails</li> <li><strong>GDPR</strong>: Personal data handling logs</li> <li><strong>HIPAA</strong>: Healthcare data access logs (if applicable)</li> <li><strong>PCI DSS</strong>: Payment card data access logs (if applicable)</li> </ul> <h2 id=performance-considerations>Performance Considerations<a class=headerlink href=#performance-considerations title="Permanent link">&para;</a></h2> <h3 id=logging-overhead>Logging Overhead<a class=headerlink href=#logging-overhead title="Permanent link">&para;</a></h3> <ol> <li><strong>Asynchronous Logging</strong></li> <li>Use background threads for log writing</li> <li>Queue-based log processing</li> <li> <p>Non-blocking application logic</p> </li> <li> <p><strong>Log Level Optimization</strong></p> </li> <li>Production: INFO level minimum</li> <li>Development: DEBUG level acceptable</li> <li> <p>Dynamic log level adjustment</p> </li> <li> <p><strong>Structured Logging</strong></p> </li> <li>JSON format for machine parsing</li> <li>Consistent field naming</li> <li>Efficient serialization</li> </ol> <h3 id=storage-optimization>Storage Optimization<a class=headerlink href=#storage-optimization title="Permanent link">&para;</a></h3> <ol> <li><strong>Compression</strong></li> <li>Gzip compression for rotated logs</li> <li>Archive older logs to cold storage</li> <li> <p>Use efficient storage formats</p> </li> <li> <p><strong>Indexing</strong></p> </li> <li>Index critical fields for search</li> <li>Partition logs by time and module</li> <li>Optimize query performance</li> </ol> <h2 id=security-considerations>Security Considerations<a class=headerlink href=#security-considerations title="Permanent link">&para;</a></h2> <h3 id=log-security>Log Security<a class=headerlink href=#log-security title="Permanent link">&para;</a></h3> <ol> <li><strong>Access Control</strong></li> <li>Restrict log file access to authorized users</li> <li>Separate log access from application access</li> <li> <p>Audit log access activities</p> </li> <li> <p><strong>Data Protection</strong></p> </li> <li>Encrypt logs in transit and at rest</li> <li>Redact sensitive information</li> <li> <p>Use secure log transmission protocols</p> </li> <li> <p><strong>Integrity Protection</strong></p> </li> <li>Implement log signing for critical events</li> <li>Use immutable storage for security logs</li> <li>Regular integrity verification</li> </ol> <h3 id=sensitive-data-handling>Sensitive Data Handling<a class=headerlink href=#sensitive-data-handling title="Permanent link">&para;</a></h3> <h4 id=data-to-redact>Data to Redact<a class=headerlink href=#data-to-redact title="Permanent link">&para;</a></h4> <ul> <li>User passwords and tokens</li> <li>API keys and secrets</li> <li>Personal identifiable information (PII)</li> <li>Financial information</li> <li>Private communication content</li> </ul> <h4 id=redaction-examples>Redaction Examples<a class=headerlink href=#redaction-examples title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>def</span><span class=w> </span><span class=nf>redact_sensitive_data</span><span class=p>(</span><span class=n>log_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Redact sensitive information from log data&quot;&quot;&quot;</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=n>sensitive_fields</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=s1>&#39;token&#39;</span><span class=p>,</span> <span class=s1>&#39;api_key&#39;</span><span class=p>,</span> <span class=s1>&#39;secret&#39;</span><span class=p>]</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=k>for</span> <span class=n>field</span> <span class=ow>in</span> <span class=n>sensitive_fields</span><span class=p>:</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>        <span class=k>if</span> <span class=n>field</span> <span class=ow>in</span> <span class=n>log_data</span><span class=p>:</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>            <span class=n>log_data</span><span class=p>[</span><span class=n>field</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;[REDACTED]&#39;</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>    <span class=c1># Redact credit card numbers</span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>    <span class=k>if</span> <span class=s1>&#39;card_number&#39;</span> <span class=ow>in</span> <span class=n>log_data</span><span class=p>:</span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>        <span class=n>log_data</span><span class=p>[</span><span class=s1>&#39;card_number&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>log_data</span><span class=p>[</span><span class=s1>&#39;card_number&#39;</span><span class=p>][:</span><span class=mi>4</span><span class=p>]</span> <span class=o>+</span> <span class=s1>&#39;****&#39;</span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>    <span class=k>return</span> <span class=n>log_data</span>
</code></pre></div> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h2> <h3 id=common-issues>Common Issues<a class=headerlink href=#common-issues title="Permanent link">&para;</a></h3> <ol> <li> <p><strong>Log Directory Permissions</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1># Fix log directory permissions</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>sudo<span class=w> </span>mkdir<span class=w> </span>-p<span class=w> </span>/var/log/waddlebotlog
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>sudo<span class=w> </span>chown<span class=w> </span>-R<span class=w> </span>waddlebot:waddlebot<span class=w> </span>/var/log/waddlebotlog
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>sudo<span class=w> </span>chmod<span class=w> </span><span class=m>755</span><span class=w> </span>/var/log/waddlebotlog
</code></pre></div></p> </li> <li> <p><strong>Log Rotation Issues</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1># Check logrotate configuration</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>cat<span class=w> </span>/etc/logrotate.d/waddlebot
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=c1># Test logrotate</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>sudo<span class=w> </span>logrotate<span class=w> </span>-d<span class=w> </span>/etc/logrotate.d/waddlebot
</code></pre></div></p> </li> <li> <p><strong>Disk Space Issues</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># Monitor log disk usage</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>du<span class=w> </span>-sh<span class=w> </span>/var/log/waddlebotlog/*
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=c1># Clean old logs</span>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>find<span class=w> </span>/var/log/waddlebotlog<span class=w> </span>-name<span class=w> </span><span class=s2>&quot;*.log.*&quot;</span><span class=w> </span>-mtime<span class=w> </span>+30<span class=w> </span>-delete
</code></pre></div></p> </li> </ol> <h3 id=log-analysis-tools>Log Analysis Tools<a class=headerlink href=#log-analysis-tools title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># View recent authentication events</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>grep<span class=w> </span><span class=s2>&quot;AUTH&quot;</span><span class=w> </span>/var/log/waddlebotlog/*/auth.log<span class=w> </span><span class=p>|</span><span class=w> </span>tail<span class=w> </span>-100
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=c1># Count authorization denials</span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>grep<span class=w> </span><span class=s2>&quot;DENIED&quot;</span><span class=w> </span>/var/log/waddlebotlog/*/authz.log<span class=w> </span><span class=p>|</span><span class=w> </span>wc<span class=w> </span>-l
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=c1># Find errors in the last hour</span>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>find<span class=w> </span>/var/log/waddlebotlog<span class=w> </span>-name<span class=w> </span><span class=s2>&quot;*error.log&quot;</span><span class=w> </span>-exec<span class=w> </span>grep<span class=w> </span><span class=s2>&quot;</span><span class=k>$(</span>date<span class=w> </span>-d<span class=w> </span><span class=s1>&#39;1 hour ago&#39;</span><span class=w> </span><span class=s1>&#39;+%Y-%m-%d %H&#39;</span><span class=k>)</span><span class=s2>&quot;</span><span class=w> </span><span class=o>{}</span><span class=w> </span><span class=se>\;</span>
<a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a>
<a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=c1># Monitor real-time logs</span>
<a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>tail<span class=w> </span>-f<span class=w> </span>/var/log/waddlebotlog/*/*.log<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>ERROR
</code></pre></div> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h2> <h3 id=development>Development<a class=headerlink href=#development title="Permanent link">&para;</a></h3> <ol> <li><strong>Consistent Logging</strong></li> <li>Use the same log format across all modules</li> <li>Implement logging early in development</li> <li> <p>Test logging functionality regularly</p> </li> <li> <p><strong>Context Preservation</strong></p> </li> <li>Include request/session IDs in all related logs</li> <li>Maintain user context throughout operation chains</li> <li> <p>Log both successful and failed operations</p> </li> <li> <p><strong>Performance Testing</strong></p> </li> <li>Test logging performance under load</li> <li>Monitor logging overhead in production</li> <li>Optimize logging configuration for performance</li> </ol> <h3 id=operations>Operations<a class=headerlink href=#operations title="Permanent link">&para;</a></h3> <ol> <li><strong>Log Monitoring</strong></li> <li>Set up automated monitoring and alerting</li> <li>Regular log review and analysis</li> <li> <p>Proactive issue identification</p> </li> <li> <p><strong>Incident Response</strong></p> </li> <li>Use logs for incident investigation</li> <li>Maintain log availability during incidents</li> <li> <p>Document log analysis procedures</p> </li> <li> <p><strong>Capacity Planning</strong></p> </li> <li>Monitor log volume growth</li> <li>Plan for storage expansion</li> <li>Optimize retention policies</li> </ol> <h2 id=implementation-checklist>Implementation Checklist<a class=headerlink href=#implementation-checklist title="Permanent link">&para;</a></h2> <h3 id=module-implementation>Module Implementation<a class=headerlink href=#module-implementation title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Implement WaddleBotLogger class</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Configure all five log categories (AUTH, AUTHZ, AUDIT, ERROR, SYSTEM)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Set up file rotation and retention</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Implement decorator patterns for automatic logging</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Add syslog support (optional)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Create comprehensive unit tests for logging</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Document module-specific logging patterns</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Implement log redaction for sensitive data</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Set up health check logging</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Configure performance metrics logging</li> </ul> <h3 id=deployment>Deployment<a class=headerlink href=#deployment title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Create log directory with correct permissions</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Configure environment variables</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Set up log aggregation (ELK/Fluentd)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Configure monitoring and alerting</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Implement log backup and archival</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Set up log access controls</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Create operational runbooks</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Train operations team on log analysis</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Establish incident response procedures</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Schedule regular log review processes</li> </ul> <p>This comprehensive logging and monitoring system ensures WaddleBot maintains the highest standards of security, compliance, and operational visibility across all modules.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 26, 2025 20:10:46 UTC">August 26, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 26, 2025 20:10:46 UTC">August 26, 2025</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/WaddleBot target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.path", "navigation.indexes", "toc.follow", "search.highlight", "search.share", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>